<div style="max-width: 3000px !important;" id="sliderContainer">
    <div pageslide ps-open="sidePanelOpen"
         ps-container="sliderContainer"
         ps-size="900px" ng-cloak>
        <div style="padding:20px; height: 100%; width: 900px; position: fixed" class="site-navbar">
            <iframe ng-src="{[{paper.url}]}" width="100%" height="100%"></iframe>
        </div>
    </div>
    <div class="page-header">
        <h1 class="page-title">{[{paper.title}]}</h1>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a ui-sref="assignments">Assignments</a></li>
            <li class="breadcrumb-item active">Paper Coder</li>
        </ol>
    </div>
    <div class="page-content">
        <div class="panel">
            <div class="panel-body">
                <div class="progress">
                    <div class="progress-bar progress-bar-striped active" aria-valuenow="90" aria-valuemin="0"
                         aria-valuemax="100" style="width: {[{calculateCompletion()}]}%" role="progressbar">
                        <span class="sr-only">{[{calculateCompletion()}]}% Complete</span>
                    </div>
                </div>
                <button ng-click="save()" type="button"
                        class="btn btn-animate btn-animate-side btn-outline btn-success">
                    <span><i class="icon wb-download" aria-hidden="true"></i>Save</span>
                </button>
                <button ng-click="newBranch()" type="button" class="btn btn-outline btn-primary">
                    <i class="icon md-plus"></i>
                    New Branch
                </button>
                <button ng-click="toggleComplete()" ng-show="assignment.done === false" type="button"
                        class="btn btn-outline btn-success">
                    <i class="icon wb-thumb-up"></i>
                    Mark as Complete
                </button>
                <button ng-click="toggleComplete()" ng-show="assignment.done === true" type="button"
                        class="btn btn-outline btn-danger">
                    <i class="icon wb-thumb-down"></i>
                    Mark as Incomplete
                </button>
                <p class="float-right" style="font-size: medium">Press ctrl+space to open the paper view!</p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <bd-branch branch="assignment.encoding.constants" name="'constants'" label="'Experiment Information'">
                    <bd-domain ng-repeat="domain in structure" domain="domain"
                               data-content="And here's some amazing content. It's very engaging. Right?"
                               data-trigger="hover" data-toggle="popover" data-original-title="Hover to trigger">
                        <bd-field ng-repeat="variable in domain.variables" field="variable"></bd-field>
                    </bd-domain>
                </bd-branch>
            </div>
            <div class="col-lg-6">
                <bd-branch ng-repeat="branch in assignment.encoding.branches" branch="branch" name="'branch'+$index"
                           label="'Study Branch '+ ($index+1)">
                    <bd-domain ng-repeat="domain in structure" domain="domain">
                        <bd-field ng-repeat="variable in domain.variables" field="variable"></bd-field>
                    </bd-domain>
                </bd-branch>
            </div>
        </div>
    </div>
    <bd-editor></bd-editor>
</div>