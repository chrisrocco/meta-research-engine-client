/*!
 * bigdata (https://uab-energetics.github.io/bigdata-app/html/)
 * Copyright 2017 chrisrocco
 * Licensed under the Themeforest Standard Licenses
 */

function loadAssignments(){var outlet=document.getElementById("templateOutlet");$(outlet).empty();var content=document.getElementById("assignmentTemplate").content;DataService.loadAssignments(AuthService.getUser()._key).success(function(data){var numAssignments=data.length;$("[data-numassignments]").html(numAssignments);for(var i=0;i<data.length;i++){var obj=data[i],paper=obj.paper,statusClass=(obj.assignment,obj.study,"badge badge-primary");switch(paper.status){case"active":statusClass="badge badge-primary";break;case"pending":statusClass="badge badge-warning";break;case"conflicted":statusClass="badge badge-danger"}content.querySelector("[data-status]").className=statusClass,content.querySelector("[data-status]").textContent=paper.status,content.querySelector("[data-papername]").textContent=paper.title,content.querySelector("[data-papermeta]").textContent="PMC-ID: "+paper.pmcID,content.querySelector("[data-progress]").style.width=obj.assignment.completion+"%",content.querySelector("[data-progresstext]").textContent=obj.assignment.completion+"%",content.querySelector("[data-studyname]").textContent=obj.project.name,content.querySelector("[data-studymeta]").textContent=obj.project.date_created,content.querySelector("[data-button]").dataset.assignmentKey=obj.assignment._key,outlet.appendChild(content.cloneNode(!0))}})}function load(buttonElement){localStorage.assignmentKey=buttonElement.dataset.assignmentKey,window.location="paper-coder.html"}$(document).ready(function(){Site.run(),loadAssignments()});